fluid=fluid||{};(function(jQuery,fluid){function updateDepth(opId,element){var elDirty=jQuery.data(element,"fluid-dom-dirtiness");var depth;if(!elDirty||elDirty<opId){depth=fluid.utils.computeDomDepth(element);jQuery.data(element,"fluid-dom-depth",depth);jQuery.data(element,"fluid-dom-dirtiness",opId)}if(!depth){depth=jQuery.data(element,"fluid-dom-depth")}return depth}fluid.dragManager=function(){var dragId=0;var lightMap={};var that={};that.computeTopTarget=function(){var maxDepth=0;var maxEl;for(var i in lightMap){var light=lightMap[i];if(light.depth>maxDepth){maxDepth=light.depth;maxEl=light.element}}return maxEl};that.startDrag=function(){++dragId};that.recordOver=function(element){var depth=updateDepth(dragId,element);lightMap[jQuery.data(element)]={element:element,depth:depth}};that.recordOut=function(element){delete lightMap[jQuery.data(element)]};that.clear=function(){lightMap={}};return that}})(jQuery,fluid);