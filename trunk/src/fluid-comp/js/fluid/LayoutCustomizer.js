fluid=fluid||{};(function(jQuery,fluid){var createLayoutCustomizer=function(layout,perms,orderChangedCallbackUrl,userOptions){var selectors,assembleOptions,options,reordererRoot;userOptions=userOptions||{};selectors=fluid.moduleLayout.inferSelectors(layout,perms,userOptions.grabHandle);assembleOptions={containerRole:fluid.roles.REGIONS,orderChangedCallbackUrl:orderChangedCallbackUrl,layoutHandlerName:"fluid.moduleLayoutHandler",moduleLayout:{permissions:perms,layout:layout},selectors:selectors};options=jQuery.extend({},assembleOptions,userOptions);reordererRoot=fluid.utils.jById(fluid.moduleLayout.containerId(layout));return fluid.reorderer(reordererRoot,options)};fluid.initLayoutCustomizer=function(layout,perms,orderChangedCallbackUrl,options){return createLayoutCustomizer(layout,perms,orderChangedCallbackUrl,options)};fluid.reorderLayout=function(container,options){var selectors,columns,modules,lockedModules,layout,perms;options=options||{};selectors=fluid.utils.merge({},{},fluid.defaults("reorderLayout").selectors,options.selectors);container=fluid.container(container);columns=jQuery(selectors.columns,container);modules=jQuery(selectors.modules,container);lockedModules=jQuery(selectors.lockedModules,container);layout=fluid.moduleLayout.buildLayout(container,columns,modules);perms=fluid.moduleLayout.buildPermsForLockedModules(lockedModules,layout);options.selectors=undefined;return fluid.initLayoutCustomizer(layout,perms,null,options)};fluid.defaults("reorderLayout",{selectors:{columns:".columns",modules:".modules",lockedModules:".lockedModules"}})})(jQuery,fluid);